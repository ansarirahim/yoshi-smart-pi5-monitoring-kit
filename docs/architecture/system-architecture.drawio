<mxfile host="app.diagrams.net" modified="2025-11-19T00:00:00.000Z" agent="5.0" version="22.1.0">
  <diagram name="System Architecture" id="system-arch">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Camera -->
        <mxCell id="camera" value="Wi-Fi Camera&#xa;(ImCam Pro / ICSee)&#xa;RTSP Stream" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="80" y="200" width="140" height="80" as="geometry" />
        </mxCell>
        
        <!-- Raspberry Pi 4 Core -->
        <mxCell id="rpi-core" value="Raspberry Pi 4 (4GB)&#xa;Core System" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="320" y="80" width="520" height="520" as="geometry" />
        </mxCell>
        
        <!-- RTSP Handler -->
        <mxCell id="rtsp" value="RTSP Stream Handler&#xa;(OpenCV)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="340" y="120" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Motion Detection -->
        <mxCell id="motion" value="Motion Detection&#xa;Engine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="340" y="200" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Fall Detection -->
        <mxCell id="fall" value="Fall Detection&#xa;Algorithm" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="340" y="280" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Event Manager -->
        <mxCell id="event" value="Event Manager&#xa;&amp; Logger" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="520" y="200" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- LINE API -->
        <mxCell id="line-api" value="LINE Messaging&#xa;API Client" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="680" y="120" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Webhook Server -->
        <mxCell id="webhook" value="Webhook Server&#xa;(Flask)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="680" y="200" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- OTA Updater -->
        <mxCell id="ota" value="OTA Update&#xa;Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="520" y="360" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Voice Alert -->
        <mxCell id="voice" value="Voice Alert&#xa;System" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="340" y="360" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Pan-Tilt Control -->
        <mxCell id="pantilt" value="Pan-Tilt Controller&#xa;(PCA9685)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="340" y="440" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Auto Tracking -->
        <mxCell id="tracking" value="Auto Tracking&#xa;Engine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="520" y="440" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Config Manager -->
        <mxCell id="config" value="Configuration&#xa;Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="680" y="360" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- External: LINE Platform -->
        <mxCell id="line-platform" value="LINE Platform&#xa;(Messaging API)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="920" y="140" width="140" height="80" as="geometry" />
        </mxCell>
        
        <!-- External: GitHub -->
        <mxCell id="github" value="GitHub Repository&#xa;(OTA Updates)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="920" y="360" width="140" height="80" as="geometry" />
        </mxCell>
        
        <!-- External: Servos -->
        <mxCell id="servos" value="Pan-Tilt Servos&#xa;(SG90/MG90S)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="80" y="440" width="140" height="80" as="geometry" />
        </mxCell>
        
        <!-- External: Speaker -->
        <mxCell id="speaker" value="Speaker&#xa;(Audio Output)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="80" y="320" width="140" height="80" as="geometry" />
        </mxCell>
        
        <!-- Connections -->
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="camera" target="rtsp">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="rtsp" target="motion">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="rtsp" target="fall">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="motion" target="event">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="fall" target="event">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="event" target="line-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="line-api" target="line-platform">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="line-platform" target="webhook">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ota" target="github">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="voice" target="speaker">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="pantilt" target="servos">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tracking" target="pantilt">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="event" target="voice">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="conn14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="motion" target="tracking">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

