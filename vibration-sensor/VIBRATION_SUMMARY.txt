â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          801S VIBRATION SENSOR - COMPREHENSIVE TEST SUITE                   â•‘
â•‘                        CREATION COMPLETE âœ…                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROJECT OVERVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Created: December 13, 2025
Status: âœ… PRODUCTION READY
Library: gpiozero (event-driven GPIO)
Python: Python 3.6+

FILE STATISTICS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

vibration_test.py              ~16 KB    502 lines
VIBRATION_TEST_GUIDE.md        ~12 KB    Complete documentation
Total Documentation            28 KB     Ready for reference

KEY FEATURES (UPGRADED FROM BASIC)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ 7 COMPREHENSIVE TEST CASES (Basic â†’ Advanced)
  1. Idle State Test           (Verify no false positives)
  2. Vibration Detection       (Basic vibration sensing)
  3. Signal Recovery Test      (Transition detection)
  4. Repeated Vibration Test   (Multi-cycle reliability)
  5. Sensitivity Test          (Variable vibration levels)
  6. Intensity Test            (Response to different forces)
  7. Duration Test             (Measure vibration length)

âœ“ ADVANCED CAPABILITIES
  - Real-time event logging with microsecond timestamps
  - Callback-based vibration detection (when_pressed, when_released)
  - Event counter tracking (vibration & idle)
  - Vibration duration measurement
  - Test pass/fail verification with automatic validation
  - Statistics summary report
  - Graceful interrupt handling (CTRL+C)
  - GPIO debounce (50ms) for clean signals
  - GPIO cleanup on exit

âœ“ USER INTERFACE
  - Color-coded output (âœ… PASS, âŒ FAIL, ðŸš¨ VIBRATION, âœ“ IDLE)
  - Progress indicators with timestamps
  - User prompts for each test phase
  - Detailed test explanations and instructions
  - Command-line argument parsing
  - Help system with comprehensive examples
  - Summary statistics report

âœ“ CONFIGURATION
  - Configurable GPIO pin (default: GPIO27)
  - Custom timeout per test
  - Single test or all tests execution
  - Pull-up/Pull-down resistor selection
  - Help system with examples

QUICK START
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

INSTALLATION:
  pip install gpiozero RPi.GPIO --break-system-packages

RUN ALL TESTS:
  python vibration_test.py

RUN SPECIFIC TEST:
  python vibration_test.py --test vibration

CUSTOM GPIO:
  python vibration_test.py --gpio 23 --timeout 30

UPGRADE FROM BASIC
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BEFORE (Basic script):
  âœ— Single continuous loop (no test structure)
  âœ— Minimal output (timestamp + "vibration" text)
  âœ— No configuration options
  âœ— No statistics or reporting
  âœ— No test cases or validation
  âœ— ~20 lines of code

AFTER (Advanced test suite):
  âœ“ 7 structured test cases
  âœ“ Rich output with color coding & indicators
  âœ“ Full command-line configuration
  âœ“ Comprehensive statistics & reporting
  âœ“ Automatic pass/fail verification
  âœ“ 502 lines of production code
  âœ“ Full documentation (12+ KB guide)
  âœ“ Professional test class API
  âœ“ Event duration measurement
  âœ“ Debounce filtering
  âœ“ Proper resource cleanup

TEST COVERAGE SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ No-Vibration Scenario    â†’ Idle State Test
âœ“ Basic Detection          â†’ Vibration Detection Test
âœ“ State Transitions        â†’ Signal Recovery Test
âœ“ Reliability              â†’ Repeated Vibration Test
âœ“ Sensitivity Levels       â†’ Sensitivity Test
âœ“ Intensity Variations     â†’ Intensity Test
âœ“ Time Measurements        â†’ Duration Test

Expected Results: 7/7 tests PASS with proper wiring

EXAMPLE OUTPUT (All Tests)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

======================================================================
801S VIBRATION SENSOR - COMPREHENSIVE TEST SUITE
======================================================================
[2025-12-13 17:10:30] GPIO Pin: 27
[2025-12-13 17:10:30] Test Mode: all
[2025-12-13 17:10:30] Timeout: 10s per test

======================================================================
TEST 1: IDLE STATE CHECK
======================================================================
[2025-12-13 17:10:30] â³ Waiting 10 seconds with NO vibration...
ðŸ‘‰ Keep sensor completely still (no movement or vibration)

[2025-12-13 17:10:40] âœ… PASS - No vibrations detected
----------------------------------------------------------------------

======================================================================
TEST 2: VIBRATION DETECTION
======================================================================
[2025-12-13 17:10:40] â³ Waiting 10 seconds for vibration...
ðŸ‘‰ Tap or vibrate the sensor surface when ready!

[2025-12-13 17:10:42] ðŸš¨ VIBRATION DETECTED (#1)
[2025-12-13 17:10:43] âœ“ Vibration ended (idle #1, duration: 1.05s)
[2025-12-13 17:10:44] ðŸš¨ VIBRATION DETECTED (#2)
[2025-12-13 17:10:45] âœ“ Vibration ended (idle #2, duration: 0.92s)
[2025-12-13 17:10:50] âœ… PASS - Vibrations detected: 3
----------------------------------------------------------------------

... [Tests 3-7 follow similar format] ...

======================================================================
TEST SUMMARY
======================================================================
Idle State                     âœ… PASS
Vibration Detection            âœ… PASS
Signal Recovery                âœ… PASS
Repeated Vibration             âœ… PASS
Sensitivity                    âœ… PASS
Intensity                      âœ… PASS
Duration                       âœ… PASS
----------------------------------------------------------------------
Total Vibrations: 23
Total Idle Periods: 12
Results: 7/7 tests passed
ðŸŽ‰ ALL TESTS PASSED!
======================================================================

COMMAND-LINE OPTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-h, --help              Show help message
--gpio GPIO             GPIO pin number (default: 27)
--test TEST             Which test to run:
                        - all (default): Run all 7 tests
                        - idle: Idle state only
                        - vibration: Vibration detection only
                        - recovery: Signal recovery only
                        - repeated: Repeated vibration cycles
                        - sensitivity: Sensitivity check
                        - intensity: Intensity response
                        - duration: Duration measurement
--timeout TIMEOUT       Duration per test in seconds (default: 10)

EXAMPLE COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Run all tests (recommended first time)
python vibration_test.py

# Test only vibration detection
python vibration_test.py --test vibration

# Test sensitivity with longer duration
python vibration_test.py --test sensitivity --timeout 45

# Use different GPIO pin
python vibration_test.py --gpio 23

# Extended run: 60 second timeout per test
python vibration_test.py --timeout 60

# Combine multiple options
python vibration_test.py --gpio 27 --test repeated --timeout 30

# Run idle state test only (verify no false positives)
python vibration_test.py --test idle --timeout 30

# Run duration test with extended time
python vibration_test.py --test duration --timeout 60

HARDWARE SETUP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

801S VIBRATION SENSOR PINOUT:
  VCC (1)   = Red wire      â†’ Raspberry Pi Pin 1 (3.3V)
  GND (2)   = Black wire    â†’ Raspberry Pi Pin 6 (GND)
  OUT (3)   = Brown wire    â†’ Raspberry Pi Pin 13 (GPIO27)

PIN REFERENCE:
                    Raspberry Pi 5 GPIO Header
                    ===========================

                 3.3V (1) [*] [*] (2) 5V
          I2C SDA GPIO2 (3) [ ] [ ] (4) 5V
          I2C SCL GPIO3 (5) [ ] [*] (6) GND
                  GPIO4 (7) [ ] [ ] (8) GPIO14 TX
                    GND (9) [ ] [ ] (10) GPIO15 RX
    [PIR] --> GPIO17 (11) [*] [ ] (12) GPIO18
  [VIBE] --> GPIO27 (13) [*] [ ] (14) GND
  [SOUND] --> GPIO22 (15) [*] [*] (16) GPIO23 <-- [DOOR]
                   3.3V (17) [ ] [ ] (18) GPIO24

âš ï¸ IMPORTANT: Use 3.3V for VCC, NOT 5V! Will damage GPIO pins.

INSTALLATION REQUIREMENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BASIC:
  pip install gpiozero

RASPBERRY PI (recommended):
  pip install gpiozero RPi.GPIO --break-system-packages

VERIFY:
  python -c "from gpiozero import Button; print('OK')"

TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ERROR: "ModuleNotFoundError: No module named 'gpiozero'"
FIX:   pip install gpiozero --break-system-packages

ERROR: "GPIOPinMissing: GPIO pin not found"
FIX:   - Check wiring (GND, VCC, OUT)
       - Try: python vibration_test.py --gpio 27
       - Or: sudo python vibration_test.py

ERROR: "No vibrations detected" in Vibration Detection test
FIX:   - Check sensor wiring (especially OUT pin)
       - Tap/vibrate harder on sensor surface
       - Increase timeout: --timeout 30
       - Verify sensor power (LED should be on)

ERROR: "False positives" in Idle State test
FIX:   - Move sensor away from vibration sources
       - Place on stable surface (avoid foot traffic)
       - Use extended timeout: --timeout 30

SENSOR ADJUSTMENT (On-board potentiometer)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Sensitivity Potentiometer (small adjustment):
  Left (less):     Higher threshold, fewer false positives
  Right (more):    Lower threshold, catches light vibrations
  Recommended:     Middle position (~5 on 0-10 scale)

STATISTICS TRACKED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Per-test Results:
  - Test name and pass/fail status
  - Vibration detection count
  - Idle period count
  - Event timestamps
  - Vibration duration measurements

Summary Report:
  - Total vibration detections
  - Total idle periods
  - Number of passed tests
  - Overall success rate

ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VibrationTester Class:
  - __init__(gpio_pin, pull_up)
  - setup_callbacks()
  - test_idle_state(duration)           â†’ bool
  - test_vibration_detection(duration)  â†’ bool
  - test_signal_recovery(duration)      â†’ bool
  - test_repeated_vibration(cycles)     â†’ bool
  - test_sensitivity(duration)          â†’ bool
  - test_intensity(duration)            â†’ bool
  - test_duration(duration)             â†’ bool
  - print_summary()
  - run_all_tests(timeout)
  - run_specific_test(test_name, timeout)
  - cleanup()

Internal Callbacks:
  - when_pressed â†’ _on_vibration()
  - when_released â†’ _on_idle()

DOCUMENTATION FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

vibration_test.py              Main test script (502 lines)
VIBRATION_TEST_GUIDE.md        Complete reference guide
VIBRATION_SUMMARY.txt          This file
../README.md                   Master guide for all sensors
../GPIO_PIN_ASSIGNMENTS.md     GPIO pinout reference

NEXT STEPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Verify wiring:
   - VCC â†’ 3.3V (Pin 1)
   - GND â†’ GND (Pin 6)
   - OUT â†’ GPIO27 (Pin 13)

2. Install dependencies:
   pip install gpiozero RPi.GPIO --break-system-packages

3. Run tests:
   python vibration_test.py

4. Interpret results:
   - All tests PASS âœ… â†’ Sensor working correctly
   - Some tests FAIL â†’ Check troubleshooting guide
   - Specific test FAIL â†’ Run individual test to debug

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… READY TO USE!

Next step:
  python /home/yoshi/individual-sensor-tests/vibration-sensor/vibration_test.py

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Created: 2025-12-13
Last Updated: 2025-12-13
Status: âœ… PRODUCTION READY

Upgraded from basic script to comprehensive test suite with 7 test cases,
advanced features, full documentation, and professional class architecture.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
